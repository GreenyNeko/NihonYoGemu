# NihonYoGemu
Osu inspired Japanese reading game

## How To Use

The program will start by loading the kanjis from an internal xml file. Then it will proceed loading input method files from the InputMethods/ folder and levels from the Levels/ folder.
After successfully loading these it will proceed into the main menu to allow you to change settings or start playing.
When starting to play you are greeted by a level select menu where you can select loaded levels and start playing them.

### How Input Works
The game tracks basic ASCII input characters and then converts the input to hiragana. The actual input is now visible.
This means writing "k" inputs a k but doesn't show it. Only if you add for example an "a" does it show the resulting hiragana character.
This also means that you have to delete characters that you don't see. This might change in the future but for now that's how it is.

### Updating Level Metas

The only way to update the level meta and information displayed in the level select is by deleting the respective .nyl.meta file or click the warning in the level select (if there is one).
There will be more options in the future.

## How To create Levels

To create levels you can generally take a look at the Tutorial.nyl file with a text editor.
Alternatively you can read the file explanation section for more details.
When sharing levels make sure to send the .nyl file and not the .nyl.meta file.
The .nyl.meta files are unimportant and get generated by the game itself.

## File Explanations

.cfg
.nyl
.nyl.meta
.nys

### CFG - InputMethods Files

These files are used to translate romaji to kana. The default one is ime which is inspired by a subset of the Windows IME.
You can make your own files look at the ime.cfg to see what options you have available.
Additionally comments can be added by starting a line with a "\#".

### NYL - NihonYoLevel Files

These are the core of the game. The .nyl files contain attributes, sentences and kanji readings.
The level attributes are found in "\[" and "\]" brackets. The only attribute that exists currently is the author.
Attributes for levels are set using "\[key=value\]". The rest of the file contains either comments or sentences with and without readings.
Comments are achieved by starting a line with "\#".
Lines are cut into sentences that end with a new line. Alternatively if the ASCII comma "," ends a sentence the program will expect kanji readings.
So the structure is as follows:
<sentence>\[,reading1,...]
Again you can check the Tutorial.nyl to see how this was achieved.

One of the most important aspects however is that sentences cannot be longer than 96 characters. Sentences that are longer cannot be displayed by the game.
Thus, these files will be displayed in game but cannot be loaded or played.

### NYL.META - NihonYoLevel Meta Files

The .nyl.meta files are an attempt at speeding up loading huge amount of levels, as well as, very long levels.
These meta files contain information about the level which is displayed in the level select. The meta files are created when a level is loaded and no meta file exists.
You can safely delete these files if needed, but keep in mind that loading times will get worse when doing so.
It also makes sense to delete these files if the information shown in the level select is incorrect or not uptodate.
In the future there will be in-game commands to do these for all files or for specific files.
It is recommended not to edit meta files and there is no benefit in doing so.
  
### NYS - NihonYo Score Files

These are binary files that store the leaderboard for a song including important information about your performance on the level.
They get created and appended whenever you finish a level.
Deleting them means losing all your highscores. Thus, it is not recommended to delete them. The total amount of scores that can be stored is 10.
